@model Brunner.M2Web.Entities.FormEntities.MppVse1
@{
    string documentLang = ViewBag.DocumentLang;
    var documentCultureInfo = new System.Globalization.CultureInfo(documentLang);
    var trans = new FormTrans(documentCultureInfo);
    ViewBag.Title = trans.GetText("Mess- und Prüfprotokoll", "Protocole d'essais - mesures","Protocollo di misurazione e test");
    Layout = "~/Views/Shared/_LayoutForm.cshtml";
    var mess = new Brunner.M2Web.Entities.FormEntities.MppVse1Messungen();
    var projectId = Model.InstallationDocuments.First().Installation.ProjectId;
    var projectDisplayName = Model.InstallationDocuments.First().Installation.Project.DisplayName;
}
@Styles.Render("~/datatable")
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
@section breadcrumb {
    <ul class="breadcrumb" style="margin-bottom: 5px;">
        <li>@Html.ActionLink("Lnk_Dashboard".Translate(), "Index", "Home")</li>
        <li>@Html.ActionLink("Lnk_Project".Translate() + " " + projectDisplayName, "Details", "Project", new { @id = projectId }, null)</li>
        <li>@ViewBag.Title (@("Lnk_Status".Translate() + " " + ViewBag.DocumentStatus))</li>
    </ul>
}
<div class="row">
    <div class="col-xs-12 col-md-10 col-lg-9 form-content @ViewBag.SignedClass">
        @using (Html.BeginForm("SaveMppVse1", "Form", FormMethod.Post, new { @class = "form-horizontal formular", id = "form0", name = "MppVse1" }))
        {
            @Html.ValidationSummary(true)
            @Html.AntiForgeryToken()
            @Html.HiddenFor(a => a.DocumentId)
            @Html.HiddenFor(a => a.DocumentModDate)

            @Html.HiddenFor(a => a.AN_KONTR)
            @Html.HiddenFor(a => a.AN_INST)
            @Html.HiddenFor(a => a.EIGENT)
            @Html.HiddenFor(a => a.VERW)
            @Html.HiddenFor(a => a.STROMK)

            @Html.HiddenFor(a => a.U_NAME1)
            @Html.HiddenFor(a => a.U_NAME2)
            @Html.HiddenFor(a => a.U_ADRESSE1)
            @Html.HiddenFor(a => a.U_ADRESSE2)
            @Html.HiddenFor(a => a.U_PLZ)
            @Html.HiddenFor(a => a.U_ORT)
            @Html.HiddenFor(a => a.U_EMAIL)
            @Html.HiddenFor(a => a.U_TELNR)

            @Html.Hidden("closeForm", false)

            <div class="col-xs-12">
                @*<fieldset>*@
                @*<div class="form-group rotate-tablet-alert">
                      <div class="alert alert-info" role="alert"><span class="glyphicon glyphicon glyphicon-refresh"></span> Drehen Sie das Tablet, um die Formularnavigation anzuzeigen.</div>
                    </div>*@
                <!-- #region Mess- und Prüfprotokoll -->
                <div class="form-group">
                    <div class="row">
                        <div class=" col-xs-9">
                            <h1 class="col-xs-12 formTitle">@(trans.GetText("Mess- und Prüfprotokoll", "Protocole d'essais - mesures","Protocollo di misurazione e test"))</h1>
                        </div>
                        <div class=" col-xs-3">
                            @*VNB-Logo hier nicht anzeigen*@
                            @*<div class="hidden-xs logoDivForm"><img id="logoForm" src="~/Content/vnb/@(Model.InstallationDocuments.First().Installation.Project.Vnb.UrlName)/logo.png" /></div>*@
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <div class="row">
                            <div class=" col-xs-6">
                                <div class="row">
                                    @Html.M2WebFormLabelFor2(a => a.MP_NR, trans.GetText("Nr.", "N°","No."), new { @class = "col-xs-4 control-label sub-label" })
                                    <div class="col-xs-8">
                                        @Html.TextBoxFor(a => a.MP_NR, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class=" col-xs-6">
                                <div class="row">
                                    @Html.M2WebFormLabelFor2(a => a.RAPPORT_NR, trans.GetText("Rapport-Nr.", "N° du rapport","Rapporto n."), new { @class = "col-xs-4 control-label sub-label" })
                                    <div class="col-xs-8">
                                        @Html.M2WebDisplayTextFor(a => a.RAPPORT_NR)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Ort der Installation -->
                <div class="form-group">
                    <h2 class="subNavigationItem" id="section-1">@(trans.GetText("Ort der Installation", "Emplacement","Luogo di installazione"))</h2>
                </div>
                <div class="form-group">
                    <div class="row">
                        @Html.M2WebLabel(trans.GetText("Standort", "Emplacement","Posizione"), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-9">
                            @Html.M2WebDisplayTextFor(a => a.O_STRASSE)
                            @Html.M2WebDisplayTextFor(a => a.O_HAUSNR, new { @class = "abstand-links" })
                        </div>
                        <div class="col-xs-9 col-xs-offset-3">
                            @Html.M2WebDisplayTextFor(a => a.O_PLZ)
                            @Html.M2WebDisplayTextFor(a => a.O_ORT, new { @class = "abstand-links" })
                        </div>
                    </div>
                    <div class="row">
                        @Html.M2WebFormLabelFor2(a => a.GEBAEUDEART, trans.GetText("Gebäudeart", "Genre de construction","Tipo d'impianto"), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-9">
                            @Html.M2WebDisplayTextFor(a => a.GEBAEUDEART)
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-xs-3 control-label">
                            @Html.M2WebFormLabelFor2(a => a.BEMERKUNG, trans.GetText("Bemerkungen", "Remarques","Osservazioni"), new { @class = "" })
                            @*<span class="glyphicon glyphicon-info-sign" id="InfoForBermerkungen"></span>*@
                        </label>
                        <div class="col-xs-6">
                            @Html.TextBoxFor(a => a.BEMERKUNG, new { @class = "form-control"@*, placeholder = trans.GetText("Hier kommt eine MPP Bemerkung", "Voilà une remarque PM","Ecco un commento MPP")*@ })
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-9 text-right">
                            @Html.ValidationMessageFor(a => a.BEMERKUNG, null, new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Anlage / Gebäudeteil -->
                <div class="row">
                    <h2 class="subNavigationItem" id="section-2">@(trans.GetText("Anlage / Gebäudeteil", "Installation / situation","Pianta / parte dell'edificio")) <span class="glyphicon @*glyphicon-pencil*@"></span></h2>
                </div>
                <div class="form-group">
                    <div class="row">
                        @Html.M2WebFormLabelFor2(a => a.LAGE, trans.GetText("Lage", "Situation","Posizione"), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-8 col-md-6">
                            @Html.M2WebDisplayTextFor(a => a.LAGE)
                        </div>
                    </div>
                    <div class="row">
                        @Html.M2WebFormLabelFor2(a => a.ANLNUTZUNG, trans.GetText("Nutzung", "Etage, situation","uso"), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-8 col-md-6">
                            @Html.M2WebDisplayTextFor(a => a.ANLNUTZUNG)
                        </div>
                    </div>
                    <div class="row">
                        @Html.M2WebLabel(trans.GetText("Stromkunde", "Client","Cliente di elettricità"), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-8 col-md-6">
                            @Html.M2WebDisplayTextFor(a => a.U_NAME1)
                        </div>
                    </div>
                    <div class="row">
                        @Html.M2WebFormLabelFor2(a => a.ABONR, trans.GetText("Anlagen-Nr.", "Installation No","Impianto n."), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-3">
                            @Html.TextBoxFor(a => a.ABONR, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 text-right">
                            @Html.ValidationMessageFor(a => a.ABONR, null, new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="row">
                        @Html.M2WebFormLabelFor2(a => a.ZAEHLER, trans.GetText("Zähler-Nr.", "Compteur n°","Contatore n."), new { @class = "col-xs-3 control-label labelPadding" })
                        <div class="col-xs-8 col-md-6">
                            @Html.M2WebDisplayTextFor(a => a.ZAEHLER)
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Adressen / Geschäftspartner -->
                <div class="form-group">
                    <h2 class="subNavigationItem" id="section-3">@(trans.GetText("Adressen / Geschäftspartner", "Adresses","Indirizzi / partner commerciali"))</h2>
                </div>
                <div class="form-group">
                    <div class="col-xs-6">
                        <div class="form-group">
                            <h3 class="col-xs-12">@(trans.GetText("Auftragnehmer", "Entrepreneur","Contraente"))</h3>
                        </div>
                        <div class="col-xs-12">
                            <select id="selectInstKontr" disabled>
                                <option value="INST">@(trans.GetText("Installateur", "Installateur","Idraulico"))</option>
                                <option value="KONT">@(trans.GetText("Kontrolleur", "Contrôleur","controller"))</option>
                            </select>
                        </div>
                        <div class="col-xs-6">
                            @Html.M2WebFormLabelFor2(a => a.I_KONZESS, trans.GetText("Bewilligungs-Nr.", "N° d'autorisation","Permesso n."), new { @class = "col-xs-12 control-label left labelPadding noPadding" })
                        </div>
                        <div class="col-xs-6">
                            @Html.M2WebDisplayTextFor(a => a.I_KONZESS)
                        </div>
                        <div class="col-xs-12">
                            @Html.M2WebDisplayTextFor(a => a.I_NAME1)
                        </div>
                        <div class="col-xs-12">
                            @Html.M2WebDisplayTextFor(a => a.I_NAME2)
                        </div>
                        <div class="col-xs-12">
                            @Html.M2WebDisplayTextFor(a => a.I_ADRESSE1)
                        </div>
                        <div class="col-xs-12">
                            @Html.M2WebDisplayTextFor(a => a.I_ADRESSE2)
                        </div>
                        <div class="col-xs-12">
                            @Html.M2WebDisplayTextFor(a => a.I_PLZ)
                            @Html.M2WebDisplayTextFor(a => a.I_ORT, new { @class = "abstand-links" })
                        </div>
                    </div>
                    <div class="col-xs-6">
                        <div class="form-group">
                            <h3 class="col-xs-12">@(trans.GetText("Auftraggeber", "Maître d'oeuvre","Cliente"))</h3>
                        </div>
                        <div class="form-group col-xs-12">
                            <select id="selectAddressType">
                                <option value="EIGENT">@(trans.GetText("Eigentümer", "Propriétaire","proprietario"))</option>
                                <option value="VERW">@(trans.GetText("Verwaltung", "Gérance","amministrazione"))</option>
                                <option value="STROMK">@(trans.GetText("Stromkunde der Anlage", "Client","Cliente energia elettrica dell'impianto"))</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_NAME1, trans.GetText("Name", "Nom","Cognome"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-6">
                                    @Html.TextBoxFor(a => a.GES_NAME1, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_NAME2, trans.GetText("(2. Zeile) ", "(2ème ligne)","(2a riga)"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-6">
                                    @Html.TextBoxFor(a => a.GES_NAME2, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_ADR1, trans.GetText("Adresse", "Adresse","indirizzo"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-6">
                                    @Html.TextBoxFor(a => a.GES_ADR1, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_ADR2, trans.GetText("(2. Zeile) ", "(2ème ligne)","(2a riga)"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-6">
                                    @Html.TextBoxFor(a => a.GES_ADR2, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_PLZ, trans.GetText("PLZ, Ort", "NPA, lieu","CAP / località"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-3">
                                    @Html.TextBoxFor(a => a.GES_PLZ, new { @class = "form-control", @readonly = "true" })
                                </div>
                                <div class="col-xs-4">
                                    @Html.TextBoxFor(a => a.GES_ORT, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_EMAIL, trans.GetText("Email", "Courriel","E-mail"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-7">
                                    @Html.TextBoxFor(a => a.GES_EMAIL, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.M2WebFormLabelFor2(a => a.GES_TELNR, trans.GetText("Telefon", "Téléphone","Telefono"), new { @class = "col-xs-4 col-sm-4 control-label" })
                                <div class="col-xs-6">
                                    @Html.TextBoxFor(a => a.GES_TELNR, new { @class = "form-control", @readonly = "true" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Kontrollumfang  -->
                <div class="row">
                    <h2 class="subNavigationItem" id="section-4">@(trans.GetText("Kontrollumfang", "Périmètre du contrôle","Ambito di controllo")) <span class="glyphicon @*glyphicon-pencil*@"></span></h2>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <h3>@(trans.GetText("Prüfgrund", "Motif du contrôle","Motivo del test"))</h3>
                        <ul>
                            <li class="col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.MP_NEU)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.MP_NEU, trans.GetText("Neuanlage", "Nouvelle installation","Nuova installazione"))
                                </label>
                            </li>
                            <li class="col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.MP_BEST)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.MP_BEST, trans.GetText("Bestehende Anlage", "Installation existante","Impianto esistente"))
                                </label>
                                <ul>
                                    <li class="col-xs-12 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.MP_ANDERS)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.MP_ANDERS, trans.GetText("Änderung", "Modification","modifica"))
                                        </label>
                                    </li>
                                    <li class="col-xs-12 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.MP_ERWEIT)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.MP_ERWEIT, trans.GetText("Erweiterung", "Extension","estensione"))
                                        </label>
                                    </li>
                                </ul>
                            </li>
                            <li class="col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.MP_X)<span class="check"></span>
                                    @Html.TextBoxFor(a => a.MP_XTEXT, new { @class = "form-control" })
                                </label>
                            </li>
                        </ul>
                        <div class="row">
                            @Html.ValidationMessageFor(a => a.MP_XTEXT, null, new { @class = "text-danger" })
                            <p>@Html.ValidationMessage("TEST_REASON", new { @class = "text-danger" })</p>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <h3>@(trans.GetText("Durchgeführte Kontrolle", "Contrôles effectués","Controllo effettuato"))</h3>
                        <div class="col-xs-12">
                            @if (ViewBag.IsInstallationProject)
                            {
                                <div class="radio radio-primary">
                                    <label>
                                        @Html.RadioButton("controlType", "MP_SK", Model.MP_SK)
                                        <span class="circle"></span><span class="check"></span>
                                        <span>
                                            @Html.M2WebFormDisplayNameFor(a => a.MP_SK, documentLang)
                                        </span>
                                    </label>
                                </div>
                            }
                            <div class="radio radio-primary">
                                <label>
                                    @Html.RadioButton("controlType", "MP_AK", Model.MP_AK)
                                    <span class="circle"></span><span class="check"></span>
                                    <span>
                                        @Html.M2WebFormDisplayNameFor(a => a.MP_AK, documentLang)
                                    </span>
                                </label>
                            </div>
                            @if (!ViewBag.IsInstallationProject)
                            {
                                <div class="radio radio-primary">
                                    <label>
                                        @Html.RadioButton("controlType", "MP_PK", Model.MP_PK)
                                        <span class="circle"></span><span class="check"></span>
                                        <span>
                                            @Html.M2WebFormDisplayNameFor(a => a.MP_PK, documentLang)
                                        </span>
                                    </label>
                                </div>
                            }
                        </div>
                        <p>@Html.ValidationMessage("TEST_KIND")</p>
                        <div class="col-xs-12">
                            <div class="row">
                                <div class="col-xs-3 col-md-3">
                                    @Html.M2WebFormLabelFor2(a => a.PROJ_NR, trans.GetText("Inst.-Anzeige Nr.", "N° AI","Inst. Display n."), new { @class = "control-label" })
                                    @Html.TextBoxFor(a => a.PROJ_NR, new { @class = "form-control" })
                                </div>
                                <div class="col-xs-3">
                                    @Html.M2WebFormLabelFor2(a => a.PROJ_JAHR, trans.GetText("Jahr", "année","anno"), new { @class = "control-label" })
                                    @Html.TextBoxFor(a => a.PROJ_JAHR, new { @class = "form-control" })
                                </div>
                                <div class="col-xs-3">
                                    @Html.M2WebFormLabelFor2(a => a.IA_DATUM, trans.GetText("Datum", "Date","Data"), new { @class = "control-label" })
                                    <div class="input-group date">
                                        @Html.TextBoxFor(a => a.IA_DATUM.Date, new { @class = "form-control" })<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-5 col-md-4 text-left">
                                    @Html.ValidationMessageFor(a => a.PROJ_NR, null, new { @class = "text-danger" })
                                </div>
                                <div class="col-xs-8 text-left">
                                    @Html.ValidationMessageFor(a => a.PROJ_JAHR, null, new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-8 col-md-7">
                        <h3>@(trans.GetText("Kontrollumfang", "Périmètre du contrôle","Ambito di controllo"))</h3>
                        <div class="col-xs-12">
                            @Html.TextAreaFor(a => a.KONTUMFANG.MEMO_STRING, 5, 1, new { @class = "col-xs-12 form-control non-resizable" })
                        </div>
                    </div>
                    <div class="col-xs-4 col-md-5">
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Sichtprüfung   -->
                <div class="form-group">
                    @*HIER KOMMT DAS VERBRAUCHER/ENDSTROMKREIS GRID*@
                </div>
                <div class="row">
                    <h2 class="subNavigationItem" id="section-5">@(trans.GetText("Prüfungen", "Contrôles","esami")) <span class="glyphicon @*glyphicon-pencil*@"></span></h2>
                </div>
                <div class="form-group switchForm-group">
                    <div class="col-xs-10 ">
                        <h3>@(trans.GetText("Sichtprüfung", "Vérification par examen visuel","Ispezione visuale"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchSichtPruf" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" id="sectionSichtPruf">
                    <div class="col-xs-12 form-group">
                        <div class="col-xs-12">
                            <div class="col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_1)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_1, trans.GetText("Richtige Auswahl und Anordnung der Betriebsmittel (Raumart)", "Choix et fixation du matériel selon le genre de local","Selezione e disposizione corrette delle apparecchiature (tipo di stanza)"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_2)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_2, trans.GetText("Basisschutz (Schutz gegen direktes Berühren)", "Protection de base (protection contre les contacts directs)","Protezione di base (protezione contro il contatto diretto)"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_3)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_3, trans.GetText("Beachtung vom Hersteller mitgelieferte technische Unterlagen", "Installé conformément aux instructions du fabricant","Attenersi alla documentazione tecnica fornita dal produttore"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_4)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_4, trans.GetText("Abschalt- und Trennvorrichtung", "Organes de coupure et de déclenchement","Dispositivo di spegnimento e disconnessione"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_5)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_5, trans.GetText("Sicherheitsrichtlinien / Anlage- und Revisionsschalter", "Organes de sécurité / Interrupteurs d'objet et de révision","Linee guida di sicurezza / sistema e interruttore di revisione"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_6)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_6, trans.GetText("Vorhandensein von Brandabschottung", "Présence de barrières coupe-feu","Presenza di paratie tagliafuoco"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_7)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_7, trans.GetText("Leitungsverlegung ( Bemessung, Anordnung, Kennzeichnung)", "Disposition des conducteurs (dimension/disposition/marquage)","Posa cavi (dimensionamento, disposizione, marcatura)"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_8)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_8, trans.GetText("Kennzeichnung der Stromkreise, Überstromunterbrecher etc.", "Identification des circuits, coupe-surintensité, etc.","Identificazione dei circuiti, interruttori di sovracorrente, ecc."))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_9)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_9, trans.GetText("Zugänglichkeit der Betriebsmittel", "Facilité d'accès au matériel","Accessibilità delle risorse"))
                                </label>
                            </div>
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class=" col-xs-4 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_10)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_10, trans.GetText("Schutzsystem:", "Mode de prot.:","Sistema di protezione:"))
                                        </label>
                                    </div>
                                    <div class=" col-xs-2 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_TNS)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_TNS, trans.GetText("TN-S", "TN-S","TN-S"))
                                        </label>
                                    </div>
                                    <div class=" col-xs-2 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_TNC)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_TNC, trans.GetText("TN-C", "TN-C","TN-C"))
                                        </label>
                                    </div>
                                    <div class="col-xs-4 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_TNX)<span class="check"></span>
                                            @Html.TextBoxFor(a => a.S_TNXTEXT, new { @class = "form-control" })
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-11 text-right">
                                        @Html.ValidationMessageFor(a => a.S_TNXTEXT, null, new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_11)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_11, trans.GetText("Hauptpotenzialausgleich", "Liaisons équipotentielles principales","Equipotenziale principale"))
                                </label>
                            </div>
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class=" col-xs-4 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_12)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_12, trans.GetText("Erder", "Terre","Elettrodo di terra"))
                                        </label>
                                    </div>
                                    <div class=" col-xs-2 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_FUND)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_FUND, trans.GetText("Fundament", "Fondation","fondazione"))
                                        </label>
                                    </div>
                                    <div class=" col-xs-2 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_WASSER)<span class="check"></span>
                                            @Html.M2WebFormLabelFor2(a => a.S_WASSER, trans.GetText("Wasser", "Cond.eau","acqua"))
                                        </label>
                                    </div>
                                    <div class="col-xs-4 checkbox">
                                        <label>
                                            @Html.CheckBoxFor(a => a.S_ERDX)<span class="check"></span>
                                            @Html.TextBoxFor(a => a.S_ERDXTEXT, new { @class = "form-control" })
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-11 text-right">
                                        @Html.ValidationMessageFor(a => a.S_ERDXTEXT, null, new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_13)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_13, trans.GetText("Zusätzlicher (örtlicher) Schutzpotenzialausgleich", "Liaisons équipotentielles supplémentaires (locale)","Collegamento equipotenziale protettivo aggiuntivo (locale)"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_14)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_14, trans.GetText("Anordnung der Busgeräte im Verteiler (Abstände)", "Disposition des app. BUS dans TP/TS (distance)","Disposizione dei dispositivi bus nel distributore (distanze)"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_15)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_15, trans.GetText("Busleitungen / Aktoren gemäss höchster Spannung", "Ligne BUS, action de séparation vis-à-vis autres tensions","Linee bus / attuatori secondo la massima tensione"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_16)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_16, trans.GetText("Auswahl und Einstellung von Schutz-Überw.-Einrichtungen", "Choix et réglage des protections et organes de sécurité","Selezione e impostazione dei dispositivi di monitoraggio della protezione"))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_17)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.S_17, trans.GetText("Vorhandensein von Schaltplänen, Warn-, Verbotszeichen, Schemata, Legenden etc.", "Présence de schémas, de mises en garde, interdictions et instructions, liste de références, etc.","Presenza di schemi elettrici, segnali di avvertimento e divieto, schemi, legende, ecc."))
                                </label>
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.S_18)<span class="check"></span>
                                    @Html.TextBoxFor(a => a.S_18TEXT, new { @class = "form-control" })
                                </label>
                            </div>
                            <div class="col-xs-12">
                                @Html.ValidationMessageFor(a => a.S_18TEXT, null, new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Funktionsprüfung (und Messung)   -->
                <div class="form-group switchForm-group">
                    <div class="col-xs-10 ">
                        <h3>@(trans.GetText("Funktionsprüfung (und Messung)", "Essais (et mesures)","Test funzionale (e misurazione)"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchFunktPruf" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" name="bootstrapSwitch" id="sectionFunktPruf">
                    <div class="col-xs-12">
                        <div class="col-xs-12 form-group">
                            <div class=" col-xs-6 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.F_1)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.F_1, trans.GetText("Leitfähigkeit des Schutzleiters, Potentialausgleich", "Continuité des conducteurs PE et PA","Conduttività del conduttore di protezione, collegamento equipotenziale"))
                                </label>
                            </div>
                            <div class=" col-xs-6 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.F_2)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.F_2, trans.GetText("Automatische Abschaltung im Fehlerfall", "Déclenchement automatique par défaut","Spegnimento automatico in caso di guasto"))
                                </label>
                            </div>
                        </div>
                        <div class="col-xs-12 form-group">
                            <div class=" col-xs-6 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.F_3)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.F_3, trans.GetText("Rechtsdrehfeld der Drehstromsteckdosen", "Champ tournant des prises triphasées","Campo rotante in senso orario delle prese trifase"))
                                </label>
                            </div>
                            <div class=" col-xs-6 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.F_4)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.F_4, trans.GetText("Funktion Fehlerstromschutzschalter", "Essais des dispositifs de protection à courant différentiel-résiduel","Funzione dell'interruttore differenziale"))
                                </label>
                            </div>
                        </div>
                        <div class="col-xs-12 form-group">
                            <div class=" col-xs-12 checkbox">
                                <label class="col-xs-7">
                                    @Html.CheckBoxFor(a => a.F_5)<span class="check"></span>
                                    @Html.TextBoxFor(a => a.F_5TEXT, new { @class = "form-control" })
                                </label>
                            </div>
                            <div class="col-xs-7 text-right">
                                @Html.ValidationMessageFor(a => a.F_5TEXT, null, new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-5">
                            </div>
                            <div class=" col-xs-12 checkbox">
                                <label class="col-xs-7">
                                    @Html.CheckBoxFor(a => a.F_6)<span class="check"></span>
                                    @Html.TextBoxFor(a => a.F_6TEXT, new { @class = "form-control" })
                                </label>
                            </div>
                            <div class="col-xs-7 text-right">
                                @Html.ValidationMessageFor(a => a.F_6TEXT, null, new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-5">
                            </div>
                        </div>
                        <div class="col-xs-12 form-group">
                            @Html.M2WebFormLabelFor2(a => a.F_SPANNUNG, trans.GetText("Gemessene Netzspannung [V]", "Tension de réseau mesurée [V]","Tensione di rete misurata [V]"), new { @class = "col-xs-9 col-md-4 control-label sub-label" })
                            <div class="col-xs-3  input-group">
                                @Html.TextBoxFor(a => a.F_SPANNUNG, new { @class = "form-control" })
                                @Html.M2WebLabel("V", new { @class = " input-group-addon control-label sub-label" })
                            </div>
                            <div class="col-xs-12 col-md-7 text-right">
                                @Html.ValidationMessageFor(a => a.F_SPANNUNG, null, new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="col-xs-12 form-group">
                            @Html.M2WebFormLabelFor2(a => a.F_BEM, trans.GetText("Bemerkungen", "Remarques","Osservazioni"), new { @class = "col-xs-6 col-md-4 control-label sub-label" })
                            <div class="col-xs-6">
                                @Html.TextBoxFor(a => a.F_BEM, new { @class = "form-control" })
                            </div>
                            <div class="col-xs-12 col-md-10 text-right">
                                @Html.ValidationMessageFor(a => a.F_BEM, null, new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Messungen   -->
                <div class="form-group">
                    <h2 class="subNavigationItem" id="section-6">@(trans.GetText("Messungen", "Mesures","Misurazioni"))</h2>
                </div>
                <div class="form-group switchForm-group">
                    <div class="col-xs-10">
                        <h3>@(trans.GetText("Verwendete Messgeräte nach IEC 61010", "Instruments de mesure utilisés selon CEI 61010","Dispositivi di misurazione utilizzati secondo IEC 61010"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchMessungen" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" id="sectionMessungen">
                    <div class="col-xs-12">
                        <div class="col-xs-12">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    @Html.TextBoxFor(a => a.N_MESS1, new { @class = "form-control" })
                                </div>
                            </div>
                            <div class="col-xs-6 text-right">
                                @Html.ValidationMessageFor(a => a.N_MESS1, null, new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    @Html.TextBoxFor(a => a.N_MESS2, new { @class = "form-control" })
                                </div>
                            </div>
                            <div class="col-xs-6 text-right">
                                @Html.ValidationMessageFor(a => a.N_MESS2, null, new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    @Html.TextBoxFor(a => a.N_MESS3, new { @class = "form-control" })
                                </div>
                            </div>
                            <div class="col-xs-6 text-right">
                                @Html.ValidationMessageFor(a => a.N_MESS3, null, new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #region PrüfDurchgef   -->
                <div class="form-group switchForm-group">
                    <div class="col-xs-10">
                        <h3>@(trans.GetText("Prüfung durchgeführt nach", "Contrôle effectué selon","Test effettuato dopo"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchPrufDurchgef" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" id="sectionPrufDurchgef">
                    <div class="form-group col-xs-12">
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM1)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM1TEXT"
                                        name="N_NORM1TEXT"
                                        data-value="@Model.N_NORM1TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM1TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM1)*@
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM2)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM2TEXT"
                                        name="N_NORM2TEXT"
                                        data-value="@Model.N_NORM2TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM2TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM2)*@
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM3)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM3TEXT"
                                        name="N_NORM3TEXT"
                                        data-value="@Model.N_NORM3TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM3TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                            </label>
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM1TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM2TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM3TEXT, null, new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM4)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM4TEXT"
                                        name="N_NORM4TEXT"
                                        data-value="@Model.N_NORM4TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM4TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM4)*@
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM5)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM5TEXT"
                                        name="N_NORM5TEXT"
                                        data-value="@Model.N_NORM5TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM5TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM5)*@
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM6)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM6TEXT"
                                        name="N_NORM6TEXT"
                                        data-value="@Model.N_NORM6TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM6TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM6)*@
                            </label>
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM4TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM5TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM6TEXT, null, new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM7)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM7TEXT"
                                        name="N_NORM7TEXT"
                                        data-value="@Model.N_NORM7TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM7TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                                @*@Html.M2WebLabelFor(a => a.N_NORM7)*@
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM8)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM8TEXT"
                                        name="N_NORM8TEXT"
                                        data-value="@Model.N_NORM8TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM8TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                            </label>
                        </div>
                        <div class=" col-xs-4 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.N_NORM9)<span class="check"></span>
                                <select class="m2web-autocomplete" id="N_NORM9TEXT"
                                        name="N_NORM9TEXT"
                                        data-value="@Model.N_NORM9TEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.N_NORM9TEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                            </label>
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM7TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM8TEXT, null, new { @class = "text-danger" })
                        </div>
                        <div class="col-xs-4 text-right">
                            @Html.ValidationMessageFor(a => a.N_NORM9TEXT, null, new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Messungen Table   -->
                <div class="form-group switchForm-group">
                    <div class="col-xs-10">
                        <h3>@(trans.GetText("Messungen", "Mesures","Misurazioni"))</h3>
                    </div>
                </div>
                <div class="form-group">
                    @if (ViewBag.SaveEnabled)
                    {
                        @Html.ActionLink(trans.GetText("Bearbeiten", "Éditer","Modificare"), "EditMppVse1Messungen", new { docId = Model.DocumentId }, new { @class = "openDialog btn btn-default", data_dialog_id = "editEditMppVse1Messungen", data_dialog_title = trans.GetText("Messungen bearbeiten", "Modifier mesures"), data_dialog_size = "modal-lg" })
                    }
                </div>
                <div class="form-group" style="overflow-x: auto; ">

                    <table class="edo-table">
                        <thead>
                            <tr>
                                <th>@Html.M2WebLabel(trans.GetText("Stromkreis", "Circuit","Circuito"))</th>
                                <th>@Html.M2WebLabel(trans.GetText("Ort / Anlage Schaltgerätekombination", "Lieu / Partie d'inst. Ens.d'appareillage","Luogo / gruppo quadro di sistema"))</th> @*Ort/Anlageteil Schaltgerätekombination*@
                                <th colspan="2">@Html.M2WebLabel(trans.GetText("Leitung / Kabel", "Canalisation / Câble","Linea / cavo"))</th>
                                <th colspan="2">@Html.M2WebLabel(trans.GetText("Überstromschutzeinr.", "Coupe-surintensité général","Dispositivo di protezione da sovracorrente"))</th> @*Überstromschutzeinr.*@
                                <th colspan="2">@Html.M2WebLabel(trans.GetText("Messungen", "Mesures","Misurazioni"))</th> @*Messungen L-PE*@
                                <th colspan="2"></th>
                                <th colspan="3">@Html.M2WebLabel(trans.GetText("Fehlerstromschutzeinrichtung", "Dispositifs à DDR","Dispositivo corrente residua"))</th>
                                @*Fehlerstromschutzeinricht.*@
                            </tr>
                            <tr>
                                <th>@Html.M2WebFormLabelFor2(a => mess.NUMMER, trans.GetText("Nr.", "N°","No."))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.BEZ, trans.GetText("Bezeichnung", "Désignation","designazione"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.LEIT_ART, trans.GetText("Art / Typ", "Genre/ Type","Tipo / tipo"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.LEIT_ANZ, trans.GetText("Leiteranz. / Quer [mm<sup>2</sup>]", "Nbre cond. / Sect. [mm<sup>2</sup>]","Capoufficio / Croce [mm <sup> 2 </sup>]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.I_ART, trans.GetText("Art / Charakt.", "Type/Caract.","Tipo / carattere"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.I_INSTR, trans.GetText("I<sub>N</sub> [A]", "I<sub>N</sub> [A]","I<sub>N</sub> [A]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.M_IKMAX, trans.GetText("I<sub>K Anf.</sub> [A]", "I<sub>cc déb.</sub> [A]","I<sub>K Anfang</sub> [A]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.M_IKMIN, trans.GetText("I<sub>K Ende</sub> [A]", "I<sub>cc fin</sub> [A]","I<sub>K Fine</sub> [A]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.M_RISO, trans.GetText("R<sub>ISO</sub>[M&Omega;] I<sub>Leck</sub>[mA]", "R<sub>ISO</sub>[M&Omega;] I<sub>fuite</sub>[mA]","R<sub>ISO</sub>[M&Omega;] I<sub>Leck</sub>[mA]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.M_LEIT, trans.GetText("Leitfähigk. Schutzl. [&Omega;]", "Contin. de cond.PE [&Omega;]","Conduttiv. Schutzl. [&Omega;]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.FI_IN, trans.GetText("I<sub>N</sub>/Art [A]", "I<sub>N</sub>/Type[A]","I<sub>N</sub>/Art [A]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.FI_IDN, trans.GetText("I<sub>dN</sub> [mA]", "I<sub>dN</sub> [mA]","I<sub>dN</sub> [mA]"))</th>
                                <th>@Html.M2WebFormLabelFor2(a => mess.FI_T, trans.GetText("t<sub>Auslös</sub> [ms]", "t<sub>décl</sub> [ms]","t<sub>pubbl.</sub> [ms]"))</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var messung in Model.Messungen)
                            {
                                <tr>
                                    <td>@Html.DisplayFor(a => messung.NUMMER)</td>
                                    <td>@Html.DisplayFor(a => messung.BEZ)</td>
                                    <td>@Html.DisplayFor(a => messung.LEIT_ART)</td>
                                    <td>@Html.DisplayFor(a => messung.LEIT_ANZ)</td>
                                    <td>@Html.DisplayFor(a => messung.I_ART)</td>
                                    <td>@Html.DisplayFor(a => messung.I_INSTR)</td>
                                    <td>@Html.DisplayFor(a => messung.M_IKMAX)</td>
                                    <td>@Html.DisplayFor(a => messung.M_IKMIN)</td>
                                    <td>@Html.DisplayFor(a => messung.M_RISO)</td>
                                    <td>@Html.DisplayFor(a => messung.M_LEIT)</td>
                                    <td>@Html.DisplayFor(a => messung.FI_IN)</td>
                                    <td>@Html.DisplayFor(a => messung.FI_IDN)</td>
                                    <td>@Html.DisplayFor(a => messung.FI_T)</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <!-- #endregion -->
                <div class="form-group">
                    <div class="col-xs-12">
                        @*@Html.M2WebLabel("MPP_Prüfergebniss".Translate(documentCultureInfo), new { @class = "col-xs-12 col-sm-3 col-md-2 control-label labelPadding" })*@
                        <h3>@(trans.GetText("Prüfergebnis", "Résultat du contrôle","Risultato della prova"))</h3>
                    </div>
                    <div class="col-xs-6">
                        <div class=" col-xs-12 checkbox">
                            <label class="col-xs-9">
                                @Html.CheckBoxFor(a => a.OHNEMANGEL)<span class="check"></span>

                                <select class="m2web-autocomplete" id="MANGELTEXT"
                                        name="MANGELTEXT"
                                        data-value="@Model.MANGELTEXT"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.MANGELTEXT", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                            </label>
                        </div>
                        <div class="row">
                            <div class="col-xs-9 text-right">
                                @Html.ValidationMessageFor(a => a.MANGELTEXT, null, new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6">
                        <div class="row">
                            @Html.M2WebFormLabelFor(a => a.KONDATUM, documentLang, new { @class = "col-xs-6 control-label sub-label" })
                            <div class="col-xs-6">
                                <div class="input-group date">
                                    @Html.TextBoxFor(a => a.KONDATUM.Date, new { @class = "form-control" })<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                <!-- #region Schaltgeräte und Dokumentation   -->
                <div class="form-group">
                    <h2 class="subNavigationItem" id="section-7">@(trans.GetText("Schaltgeräte und Dokumentation", "Ensemble d'appareillage EA / Documentation","Quadri e documentazione")) </h2>
                </div>
                <div class="form-group switchForm-group">
                    <div class="col-xs-10">
                        <h3>@(trans.GetText("Schaltgerätekombination SK", "Ensemble d'appareillage EA","Gruppo quadro SK"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchSchaltGerKomb" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" id="sectionSchaltGerKomb">
                    <div class="col-xs-12">
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.SK_ASBEST0)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.SK_ASBEST0, trans.GetText("Asbestfrei", "Sans amiante","Senza amianto"))
                            </label>
                        </div>
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.SK_ASBEST1)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.SK_ASBEST1, trans.GetText("Asbesthaltig", "Avec amiante","Contiene amianto"))
                            </label>
                        </div>
                        <div class=" col-xs-12 form-group">
                            <div class=" col-xs-4 checkbox">
                                <label>
                                    @Html.CheckBoxFor(a => a.SK_1)<span class="check"></span>
                                    @Html.M2WebFormLabelFor2(a => a.SK_1, trans.GetText("SK-Identifikation nach", "Identification selon","Identificazione SK secondo"))
                                </label>
                            </div>
                            <div class=" col-xs-4">
                                <select class="m2web-autocomplete" id="SK_1NORM"
                                        name="SK_1NORM"
                                        data-value="@Model.SK_1NORM"
                                        data-autocompleteurl="@Url.Action("AutocompleteForm", "Autocomplete", new { catalogkey = "Mpp.SK_1NORM", vnbid = ViewBag.VnbId, lang = documentLang, maxentities = 100 })"></select>
                            </div>
                            <div class="col-xs-8 text-right">
                                @Html.ValidationMessageFor(a => a.SK_1NORM, null, new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.SK_2)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.SK_2, trans.GetText("Herstellererklärung mit Stückprüfung", "Déclaration du fabricant et attestation","Dichiarazione del produttore con test di routine"))
                            </label>
                        </div>
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.SK_3)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.SK_3, trans.GetText("SK in die Schlusskontrolle miteinbezogen", "EA intégré dans le contrôle final","SK inclusa nel controllo finale"))
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group switchForm-group">
                    <div class="col-xs-10">
                        <h3>@(trans.GetText("Dokumentation", "Documentation","documentazione"))</h3>
                    </div>
                    <div class="col-xs-2 text-right">
                        <input id="switchDoku" name="bootstrapSwitch" type="checkbox" data-size="mini" />
                    </div>
                </div>
                <div class="form-group" id="sectionDoku">
                    <div class="col-xs-12">
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.DOKU)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.DOKU, trans.GetText("Anlagedokumentation übergeben", "Documentation transmise","Consegnare la documentazione del sistema"))
                            </label>
                        </div>
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.SCHEMA)<span class="check"></span>
                                @Html.M2WebFormLabelFor2(a => a.SCHEMA, trans.GetText("Schema", "Schémas","schema"))
                            </label>
                        </div>
                        <div class=" col-xs-12 checkbox">
                            <label>
                                @Html.CheckBoxFor(a => a.ZUSATZ1)<span class="check"></span>
                                @Html.TextBoxFor(a => a.ZUSTXT1, new { @class = "form-control" })
                            </label>
                        </div>
                        <div class="col-xs-12 text-right">
                            @Html.ValidationMessageFor(a => a.ZUSTXT1, null, new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
                <!-- #endregion -->
                @*</fieldset>*@
            </div>
        }
    </div>
    <!-- #region Navigation -->
    <div class="hidden-xs hidden-sm col-md-2 col-lg-3" id="formNavigation">
        <ul id="summary" class="hidden-xs hidden-sm">
            @*<li class="title">Navi Formular</li>*@
            <li class="contents">
                <nav id="subNavigation">
                </nav>
            </li>
        </ul>
    </div>
    <!-- #endregion -->
</div>
@Scripts.Render("~/bundles/m2web-form")
@Scripts.Render("~/bundles/m2web-form-mpp")
<script type="text/javascript">
    function addValidationRule(name){
        switch(name){
            case 'N_NORM3':  $('input[name=N_NORM3').rules('add', {
                maxlength: 12,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("12"))'
                }
            });
                $('select option:first-child').attr("selected", "selected");
                input.val( $(select).children("option:selected").text());
                break;
            case 'N_NORM1TEXT':  $('input[name=N_NORM1TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM2TEXT':  $('input[name=N_NORM2TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM3TEXT':  $('input[name=N_NORM3TEXT').rules('add', {
                maxlength: 10,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("10"))'
                }
            });
                break;
            case 'N_NORM4TEXT':  $('input[name=N_NORM4TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM5TEXT':  $('input[name=N_NORM5TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM6TEXT':  $('input[name=N_NORM6TEXT').rules('add', {
                maxlength: 10,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("10"))'
                }
            });
                break;
            case 'N_NORM7TEXT':  $('input[name=N_NORM7TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM8TEXT':  $('input[name=N_NORM8TEXT').rules('add', {
                maxlength: 14,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("14"))'
                }
            });
                break;
            case 'N_NORM9TEXT':  $('input[name=N_NORM9TEXT').rules('add', {
                maxlength: 10,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("10"))'
                }
            });
                break;
            case 'MANGELTEXT': $('input[name=MANGELTEXT').rules('add', {
                maxlength: 25,
                messages: {
                    maxlength: '@("Maximallänge von {0} überschritten".TranslateFormat("25"))'
                }
            });
                break;
        }
    }

    $(document).ready(function () {
        $('#form0').validate();
        var formAddresses =  @Html.Raw(Json.Encode(this.ViewBag.FormAddresses));
        $('.m2web-autocomplete').combobox({disabled: @Json.Encode(!ViewBag.SaveEnabled), change: function(e) { m2web.form.changeButtonsInSaveBar();}, done: function(a,b){ addValidationRule($(b).attr('name'));}});
        m2web.form.init(@Model.DocumentId, @Model.InstallationDocuments.First().Installation.ProjectId, { }, '@Json.Encode(ViewBag.CanSend)', '@Json.Encode(ViewBag.Sending)', '@Json.Encode(ViewBag.SendMessage)',@(ViewBag.canBeSigned?"true": "false"), @ViewBag.GlobalSysUserId);

        var colmap = {};
        colmap["Messungen.NUMMER"] = 0;
        colmap["Messungen.BEZ"] = 1;
        colmap["Messungen.LEIT_ART"] = 2;
        colmap["Messungen.LEIT_ANZ"] = 3;
        colmap["Messungen.I_ART"] = 4;
        colmap["Messungen.I_INSTR"] = 5;
        colmap["Messungen.M_IKMAX"] = 6;
        colmap["Messungen.M_IKMIN"] = 7;
        colmap["Messungen.M_RISO"] = 8;
        colmap["Messungen.M_LEIT"] = 9;
        colmap["Messungen.FI_IN"] = 10;
        colmap["Messungen.FI_IDN"] = 11;
        colmap["Messungen.FI_T"] = 12;

        // Änderungen von VNB anzeigen
        m2web.form.showDifferences("@Url.Action("GetVnbDifferences")/" + @Model.DocumentId, colmap);

        var onText = '@("switchYes".Translate(documentCultureInfo))';
        var offText = '@("switchNo".Translate(documentCultureInfo))';
        m2web.formMpp.init(formAddresses, '@Culture', onText, offText);
        m2web.form.setEnabled(@Json.Encode(ViewBag.SaveEnabled));
    });
</script>
